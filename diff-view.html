<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diff Viewer - DiffLens</title>
    <meta name="description" content="DiffLens Diff Viewer - Visualize git diffs with syntax highlighting and multiple view modes">
    <meta name="keywords" content="git diff, code review, diff viewer, privacy-focused, client-side">
    
    <!-- TailwindCSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Custom Tailwind Config -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary': '#2563eb',
                        'primary-dark': '#1d4ed8',
                        'diff-added': '#22c55e',
                        'diff-removed': '#ef4444',
                        'diff-unchanged': '#6b7280',
                        'diff-line-bg': '#f8fafc',
                        'diff-added-bg': '#dcfce7',
                        'diff-removed-bg': '#fecaca'
                    }
                }
            }
        }
    </script>
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="assets/css/main.css">
</head>
<body class="bg-gray-50">
    <!-- Navigation -->
    <nav class="bg-white shadow-sm fixed top-0 left-0 right-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo -->
                <div class="flex items-center">
                    <div class="flex-shrink-0 flex items-center">
                        <svg class="h-8 w-8 text-primary mr-2" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M8 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h3c.6 0 1-.4 1-1s-.4-1-1-1H5V5h3c.6 0 1-.4 1-1s-.4-1-1-1zm7.5 17l1.1-1.1L14.7 17H21v-2h-6.3l1.9-1.9L15.5 12l-3.5 3.5v1L15.5 20z"/>
                        </svg>
                        <span class="text-xl font-bold text-gray-900">DiffLens</span>
                    </div>
                </div>

                <!-- Desktop Navigation -->
                <div class="hidden md:block">
                    <div class="flex items-baseline space-x-4">
                        <a href="index.html" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-primary hover:bg-primary/5 transition-colors">Home</a>
                        <a href="diff-view.html" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-primary bg-primary/10">Diff View</a>
                        <a href="contribute.html" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-primary hover:bg-primary/5 transition-colors">Contribute</a>
                        <a href="about.html" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-primary hover:bg-primary/5 transition-colors">About</a>
                        <a href="contact.html" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-primary hover:bg-primary/5 transition-colors">Contact</a>
                    </div>
                </div>

                <!-- GitHub Link -->
                <div class="hidden md:flex items-center space-x-4">
                    <a href="https://github.com/nbslabs/difflense" target="_blank" rel="noopener noreferrer" 
                       class="flex items-center text-gray-700 hover:text-primary transition-colors">
                        <svg class="h-5 w-5 mr-1" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"/>
                        </svg>
                        <span id="github-stars" class="text-sm">‚òÖ Stars</span>
                    </a>
                </div>

                <!-- Mobile menu button -->
                <div class="md:hidden">
                    <button id="mobile-menu-btn" class="text-gray-700 hover:text-primary focus:outline-none focus:text-primary">
                        <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mobile Navigation -->
        <div id="mobile-menu" class="md:hidden hidden bg-white border-t border-gray-200">
            <div class="px-2 pt-2 pb-3 space-y-1">
                <a href="index.html" class="mobile-nav-link block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-primary hover:bg-primary/5">Home</a>
                <a href="diff-view.html" class="mobile-nav-link block px-3 py-2 rounded-md text-base font-medium text-primary bg-primary/10">Diff View</a>
                <a href="contribute.html" class="mobile-nav-link block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-primary hover:bg-primary/5">Contribute</a>
                <a href="about.html" class="mobile-nav-link block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-primary hover:bg-primary/5">About</a>
                <a href="contact.html" class="mobile-nav-link block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-primary hover:bg-primary/5">Contact</a>
                <div class="border-t border-gray-200 pt-2">
                    <a href="https://github.com/nbslabs/difflense" target="_blank" rel="noopener noreferrer" 
                       class="flex items-center px-3 py-2 text-gray-700 hover:text-primary">
                        <svg class="h-5 w-5 mr-2" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"/>
                        </svg>
                        GitHub Repository
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="pt-16 min-h-screen">
        <div class="w-full px-4 sm:px-6 lg:px-8 py-12">
            <div class="text-center mb-12 max-w-7xl mx-auto">
                <h1 class="text-4xl font-bold text-gray-900 mb-4">Diff Viewer</h1>
                <p class="text-lg text-gray-600 max-w-2xl mx-auto">
                    Paste your git diff output or upload a diff file to visualize code changes with syntax highlighting.
                </p>
            </div>

            <!-- Tutorial Section -->
            <div class="max-w-7xl mx-auto mb-8">
                <div class="bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200 shadow-sm">
                    <div class="p-6">
                        <div class="flex items-center justify-between cursor-pointer" id="tutorial-toggle">
                            <div class="flex items-center">
                                <div class="flex-shrink-0 mr-4">
                                    <svg class="h-8 w-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/>
                                    </svg>
                                </div>
                                <div>
                                    <h3 class="text-lg font-semibold text-gray-900">Git Diff Tutorial</h3>
                                    <p class="text-sm text-gray-600 mt-1">Learn how to save git diff output to files for various scenarios - perfect for code reviews, patches, and documentation</p>
                                </div>
                            </div>
                            <div class="flex-shrink-0">
                                <svg id="tutorial-chevron" class="h-6 w-6 text-gray-500 transform transition-transform duration-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                                </svg>
                            </div>
                        </div>
                        
                        <div id="tutorial-content" class="hidden mt-6 border-t border-blue-200 pt-6">
                            <!-- Basic Git Diff Commands -->
                            <div class="mb-8">
                                <h4 class="text-md font-semibold text-gray-800 mb-4 flex items-center">
                                    <svg class="h-5 w-5 text-green-600 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                                    </svg>
                                    Saving Basic Git Diffs to Files
                                </h4>
                                <div class="grid md:grid-cols-2 gap-4">
                                    <div class="tutorial-card bg-white rounded-lg p-4">
                                        <h5 class="font-medium text-gray-900 mb-2">Working Directory vs Staging</h5>
                                        <div class="tutorial-command-block">
                                            <code>git diff > unstaged-changes.diff</code>
                                        </div>
                                        <p class="text-sm text-gray-600">Save unstaged changes to a file for review or sharing</p>
                                    </div>
                                    <div class="tutorial-card bg-white rounded-lg p-4">
                                        <h5 class="font-medium text-gray-900 mb-2">Staging vs Last Commit</h5>
                                        <div class="tutorial-command-block">
                                            <code>git diff --cached > staged-changes.diff</code>
                                        </div>
                                        <p class="text-sm text-gray-600">Save staged changes to file for commit review</p>
                                    </div>
                                    <div class="tutorial-card bg-white rounded-lg p-4">
                                        <h5 class="font-medium text-gray-900 mb-2">Working Directory vs Commit</h5>
                                        <div class="tutorial-command-block">
                                            <code>git diff HEAD > all-changes.diff</code>
                                        </div>
                                        <p class="text-sm text-gray-600">Save all changes since last commit to file</p>
                                    </div>
                                    <div class="tutorial-card bg-white rounded-lg p-4">
                                        <h5 class="font-medium text-gray-900 mb-2">Specific File Changes</h5>
                                        <div class="tutorial-command-block">
                                            <code>git diff path/to/file.js > file-changes.diff</code>
                                        </div>
                                        <p class="text-sm text-gray-600">Save changes for a specific file to a diff file</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Commit Comparisons -->
                            <div class="mb-8">
                                <h4 class="text-md font-semibold text-gray-800 mb-4 flex items-center">
                                    <svg class="h-5 w-5 text-blue-600 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"/>
                                    </svg>
                                    Saving Commit vs Commit Comparisons
                                </h4>
                                <div class="grid md:grid-cols-2 gap-4">
                                    <div class="tutorial-card bg-white rounded-lg p-4">
                                        <h5 class="font-medium text-gray-900 mb-2">Between Two Commits</h5>
                                        <div class="tutorial-command-block">
                                            <code>git diff abc123..def456 > commit-comparison.diff</code>
                                        </div>
                                        <p class="text-sm text-gray-600">Save changes between two specific commits to file</p>
                                    </div>
                                    <div class="tutorial-card bg-white rounded-lg p-4">
                                        <h5 class="font-medium text-gray-900 mb-2">Commit vs HEAD</h5>
                                        <div class="tutorial-command-block">
                                            <code>git diff abc123 > commit-vs-head.diff</code>
                                        </div>
                                        <p class="text-sm text-gray-600">Save comparison of commit with current HEAD to file</p>
                                    </div>
                                    <div class="tutorial-card bg-white rounded-lg p-4">
                                        <h5 class="font-medium text-gray-900 mb-2">Last N Commits</h5>
                                        <div class="tutorial-command-block">
                                            <code>git diff HEAD~3..HEAD > last-3-commits.diff</code>
                                        </div>
                                        <p class="text-sm text-gray-600">Save changes from last 3 commits to file</p>
                                    </div>
                                    <div class="tutorial-card bg-white rounded-lg p-4">
                                        <h5 class="font-medium text-gray-900 mb-2">Specific File Between Commits</h5>
                                        <div class="tutorial-command-block">
                                            <code>git diff abc123..def456 -- file.js > file-history.diff</code>
                                        </div>
                                        <p class="text-sm text-gray-600">Save specific file changes between commits to file</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Branch Comparisons -->
                            <div class="mb-8">
                                <h4 class="text-md font-semibold text-gray-800 mb-4 flex items-center">
                                    <svg class="h-5 w-5 text-purple-600 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M7.707 3.293a1 1 0 010 1.414L5.414 7H11a7 7 0 017 7v2a1 1 0 11-2 0v-2a5 5 0 00-5-5H5.414l2.293 2.293a1 1 0 11-1.414 1.414L2.586 7l3.707-3.707a1 1 0 011.414 0z" clip-rule="evenodd"/>
                                    </svg>
                                    Saving Branch Comparisons to Files
                                </h4>
                                <div class="grid md:grid-cols-2 gap-4">
                                    <div class="tutorial-card bg-white rounded-lg p-4">
                                        <h5 class="font-medium text-gray-900 mb-2">Branch vs Branch</h5>
                                        <div class="tutorial-command-block">
                                            <code>git diff main..feature-branch > branch-diff.patch</code>
                                        </div>
                                        <p class="text-sm text-gray-600">Save differences between two branches as patch file</p>
                                    </div>
                                    <div class="tutorial-card bg-white rounded-lg p-4">
                                        <h5 class="font-medium text-gray-900 mb-2">Current Branch vs Remote</h5>
                                        <div class="tutorial-command-block">
                                            <code>git diff origin/main > remote-diff.diff</code>
                                        </div>
                                        <p class="text-sm text-gray-600">Save current branch vs remote branch differences</p>
                                    </div>
                                    <div class="tutorial-card bg-white rounded-lg p-4">
                                        <h5 class="font-medium text-gray-900 mb-2">Three-way Merge Base</h5>
                                        <div class="tutorial-command-block">
                                            <code>git diff main...feature-branch > merge-base.diff</code>
                                        </div>
                                        <p class="text-sm text-gray-600">Save changes from common ancestor to feature branch</p>
                                    </div>
                                    <div class="tutorial-card bg-white rounded-lg p-4">
                                        <h5 class="font-medium text-gray-900 mb-2">Branch Files Summary</h5>
                                        <div class="tutorial-command-block">
                                            <code>git diff main..feature --name-only > changed-files.txt</code>
                                        </div>
                                        <p class="text-sm text-gray-600">Save list of changed files between branches</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Advanced Options -->
                            <div class="mb-8">
                                <h4 class="text-md font-semibold text-gray-800 mb-4 flex items-center">
                                    <svg class="h-5 w-5 text-orange-600 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z" clip-rule="evenodd"/>
                                    </svg>
                                    Advanced Diff Options for File Saving
                                </h4>
                                <div class="grid md:grid-cols-2 gap-4">
                                    <div class="tutorial-card bg-white rounded-lg p-4">
                                        <h5 class="font-medium text-gray-900 mb-2">Ignore Whitespace</h5>
                                        <div class="tutorial-command-block">
                                            <code>git diff -w > no-whitespace.diff</code>
                                        </div>
                                        <p class="text-sm text-gray-600">Save diff ignoring whitespace changes to file</p>
                                    </div>
                                    <div class="tutorial-card bg-white rounded-lg p-4">
                                        <h5 class="font-medium text-gray-900 mb-2">Word-level Diff</h5>
                                        <div class="tutorial-command-block">
                                            <code>git diff --word-diff > word-diff.diff</code>
                                        </div>
                                        <p class="text-sm text-gray-600">Save word-level differences to file</p>
                                    </div>
                                    <div class="tutorial-card bg-white rounded-lg p-4">
                                        <h5 class="font-medium text-gray-900 mb-2">Extended Context</h5>
                                        <div class="tutorial-command-block">
                                            <code>git diff -U10 > extended-context.diff</code>
                                        </div>
                                        <p class="text-sm text-gray-600">Save diff with 10 lines of context to file</p>
                                    </div>
                                    <div class="tutorial-card bg-white rounded-lg p-4">
                                        <h5 class="font-medium text-gray-900 mb-2">Statistics Summary</h5>
                                        <div class="tutorial-command-block">
                                            <code>git diff --stat > diff-stats.txt</code>
                                        </div>
                                        <p class="text-sm text-gray-600">Save file change statistics to text file</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Output and Usage -->
                            <div class="mb-6">
                                <h4 class="text-md font-semibold text-gray-800 mb-4 flex items-center">
                                    <svg class="h-5 w-5 text-red-600 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z" clip-rule="evenodd"/>
                                    </svg>
                                    Comprehensive Guide to Saving Git Diffs
                                </h4>
                                <div class="space-y-6">
                                    <!-- Basic File Saving -->
                                    <div class="tutorial-card bg-white rounded-lg p-4">
                                        <h5 class="font-medium text-gray-900 mb-3">üìÅ Basic File Output Methods</h5>
                                        <div class="grid md:grid-cols-2 gap-4">
                                            <div>
                                                <h6 class="text-sm font-medium text-gray-700 mb-2">Standard Output Redirection</h6>
                                                <div class="space-y-1">
                                                    <div class="tutorial-command-block text-xs">
                                                        <code>git diff > changes.diff</code>
                                                    </div>
                                                    <div class="tutorial-command-block text-xs">
                                                        <code>git diff --cached > staged.patch</code>
                                                    </div>
                                                </div>
                                            </div>
                                            <div>
                                                <h6 class="text-sm font-medium text-gray-700 mb-2">Append to Existing File</h6>
                                                <div class="space-y-1">
                                                    <div class="tutorial-command-block text-xs">
                                                        <code>git diff >> all-changes.diff</code>
                                                    </div>
                                                    <div class="tutorial-command-block text-xs">
                                                        <code>git diff HEAD~1 >> history.patch</code>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Organized File Structure -->
                                    <div class="tutorial-card bg-white rounded-lg p-4">
                                        <h5 class="font-medium text-gray-900 mb-3">üóÇÔ∏è Organized Diff File Structure</h5>
                                        <div class="grid md:grid-cols-2 gap-4">
                                            <div>
                                                <h6 class="text-sm font-medium text-gray-700 mb-2">By Date and Time</h6>
                                                <div class="tutorial-command-block text-xs">
                                                    <code>git diff > "diff-$(date +%Y%m%d-%H%M%S).diff"</code>
                                                </div>
                                                <p class="text-xs text-gray-500 mt-1">Creates: diff-20241230-143022.diff</p>
                                            </div>
                                            <div>
                                                <h6 class="text-sm font-medium text-gray-700 mb-2">By Branch and Feature</h6>
                                                <div class="tutorial-command-block text-xs">
                                                    <code>git diff main..feature > feature-branch-changes.patch</code>
                                                </div>
                                                <p class="text-xs text-gray-500 mt-1">Descriptive naming for review</p>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Multiple File Formats -->
                                    <div class="tutorial-card bg-white rounded-lg p-4">
                                        <h5 class="font-medium text-gray-900 mb-3">üìã Different Output Formats for Various Use Cases</h5>
                                        <div class="grid md:grid-cols-3 gap-4">
                                            <div>
                                                <h6 class="text-sm font-medium text-gray-700 mb-2">Patch Files (.patch)</h6>
                                                <div class="tutorial-command-block text-xs">
                                                    <code>git diff > feature.patch</code>
                                                </div>
                                                <p class="text-xs text-gray-500 mt-1">For applying with git apply</p>
                                            </div>
                                            <div>
                                                <h6 class="text-sm font-medium text-gray-700 mb-2">Text Files (.txt)</h6>
                                                <div class="tutorial-command-block text-xs">
                                                    <code>git diff --stat > summary.txt</code>
                                                </div>
                                                <p class="text-xs text-gray-500 mt-1">For documentation/reports</p>
                                            </div>
                                            <div>
                                                <h6 class="text-sm font-medium text-gray-700 mb-2">Diff Files (.diff)</h6>
                                                <div class="tutorial-command-block text-xs">
                                                    <code>git diff HEAD~1 > review.diff</code>
                                                </div>
                                                <p class="text-xs text-gray-500 mt-1">Standard diff format</p>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Advanced Scenarios -->
                                    <div class="tutorial-card bg-white rounded-lg p-4">
                                        <h5 class="font-medium text-gray-900 mb-3">‚ö° Advanced Saving Scenarios</h5>
                                        <div class="space-y-3">
                                            <div>
                                                <h6 class="text-sm font-medium text-gray-700 mb-1">Save Multiple Comparisons</h6>
                                                <div class="bg-gray-50 p-2 rounded text-xs font-mono">
                                                    <div>git diff HEAD~1 > last-commit.diff</div>
                                                    <div>git diff --cached > staged.diff</div>
                                                    <div>git diff > unstaged.diff</div>
                                                </div>
                                            </div>
                                            <div>
                                                <h6 class="text-sm font-medium text-gray-700 mb-1">Conditional Saving (only if changes exist)</h6>
                                                <div class="tutorial-command-block text-xs">
                                                    <code>git diff --quiet || git diff > changes.diff</code>
                                                </div>
                                            </div>
                                            <div>
                                                <h6 class="text-sm font-medium text-gray-700 mb-1">Save with Metadata</h6>
                                                <div class="bg-gray-50 p-2 rounded text-xs font-mono">
                                                    <div>echo "# Diff generated on $(date)" > full-report.diff</div>
                                                    <div>echo "# Branch: $(git branch --show-current)" >> full-report.diff</div>
                                                    <div>git diff >> full-report.diff</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Cross-Platform Clipboard -->
                                    <div class="tutorial-card bg-white rounded-lg p-4">
                                        <h5 class="font-medium text-gray-900 mb-3">üìã Copy to Clipboard (Cross-Platform)</h5>
                                        <div class="grid md:grid-cols-3 gap-4">
                                            <div>
                                                <h6 class="text-sm font-medium text-gray-700 mb-2">macOS</h6>
                                                <div class="tutorial-command-block text-xs">
                                                    <code>git diff | pbcopy</code>
                                                </div>
                                            </div>
                                            <div>
                                                <h6 class="text-sm font-medium text-gray-700 mb-2">Linux</h6>
                                                <div class="tutorial-command-block text-xs">
                                                    <code>git diff | xclip -selection clipboard</code>
                                                </div>
                                            </div>
                                            <div>
                                                <h6 class="text-sm font-medium text-gray-700 mb-2">Windows (PowerShell)</h6>
                                                <div class="tutorial-command-block text-xs">
                                                    <code>git diff | Set-Clipboard</code>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="mt-6 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-md">
                                    <p class="text-sm text-blue-800">
                                        <strong>üí° Pro Tip:</strong> After saving your diff to a file, you can upload it directly to DiffLens using the file upload area above, or copy the file content and paste it into the text area. DiffLens will automatically parse and visualize your changes with syntax highlighting and multiple view options.
                                    </p>
                                </div>
                            </div>

                            <!-- Quick Examples -->
                            <div class="bg-gray-50 rounded-lg p-4 border border-gray-200">
                                <h5 class="font-medium text-gray-900 mb-3">üöÄ Quick Start: Save Diffs to Files</h5>
                                <div class="grid md:grid-cols-3 gap-3 text-sm">
                                    <div class="bg-white p-3 rounded border">
                                        <strong>Save Current Changes:</strong><br>
                                        <code class="text-xs">git diff > changes.diff</code>
                                    </div>
                                    <div class="bg-white p-3 rounded border">
                                        <strong>Save Branch Comparison:</strong><br>
                                        <code class="text-xs">git diff main..feature > branch.patch</code>
                                    </div>
                                    <div class="bg-white p-3 rounded border">
                                        <strong>Save Recent Commits:</strong><br>
                                        <code class="text-xs">git diff HEAD~2..HEAD > recent.diff</code>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Input Section -->
            <div class="bg-white rounded-lg shadow-lg p-6 mb-8 max-w-7xl mx-auto">
                <div class="grid md:grid-cols-2 gap-6 mb-6">
                    <!-- Text Input -->
                    <div>
                        <label for="diff-input" class="block text-sm font-medium text-gray-700 mb-2">
                            Paste Diff Content
                        </label>
                        <textarea
                            id="diff-input"
                            rows="10"
                            class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary font-mono text-sm"
                            placeholder="Paste your git diff output here..."
                        ></textarea>
                    </div>

                    <!-- File Upload -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            Upload Diff File
                        </label>
                        <div class="file-upload-area relative">
                            <input type="file" id="diff-file-input" class="file-upload-input" accept=".txt,.diff,.patch">
                            <div class="text-center">
                                <svg class="mx-auto h-12 w-12 text-gray-400 mb-4" stroke="currentColor" fill="none" viewBox="0 0 48 48">
                                    <path d="M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                <p class="text-sm text-gray-600">
                                    <span class="text-primary font-medium">Click to upload</span> or drag and drop
                                </p>
                                <p class="text-xs text-gray-500 mt-1">
                                    .txt, .diff, .patch files supported
                                </p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Controls -->
                <div class="flex flex-col sm:flex-row gap-4 items-center justify-between border-t pt-6">
                    <div class="flex gap-4">
                        <div class="flex items-center space-x-2">
                            <label class="text-sm font-medium text-gray-700">View Mode:</label>
                            <select id="view-mode" class="border border-gray-300 rounded-md px-3 py-1 text-sm focus:ring-primary focus:border-primary">
                                <option value="unified">Unified</option>
                                <option value="side-by-side">Side by Side</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="flex gap-3">
                        <button id="clear-diff" class="btn-secondary">
                            Clear
                        </button>
                        <button id="show-diff" class="btn-primary">
                            Show Diff
                        </button>
                    </div>
                </div>
            </div>

            <!-- Diff Output -->
            <div id="diff-output" class="hidden max-w-7xl mx-auto">
                <div class="bg-white rounded-lg shadow-lg overflow-hidden">
                    <div class="bg-gray-50 px-6 py-3 border-b border-gray-200">
                        <div class="flex justify-between items-center">
                            <h3 class="text-lg font-medium text-gray-900">Diff Results</h3>
                            <div class="flex gap-2">
                                <button id="copy-diff" class="text-sm text-gray-600 hover:text-primary">
                                    Copy to Clipboard
                                </button>
                                <button id="download-diff" class="text-sm text-gray-600 hover:text-primary">
                                    Download
                                </button>
                                <button id="share-diff" class="text-sm text-gray-600 hover:text-primary">
                                    Share
                                </button>
                            </div>
                        </div>
                    </div>
                    <div id="diff-content" class="diff-viewer overflow-x-auto">
                        <!-- Diff content will be rendered here -->
                    </div>
                </div>
            </div>

            <!-- No Diff Message -->
            <div id="no-diff-message" class="hidden text-center py-12">
                <div class="text-gray-500">
                    <svg class="mx-auto h-16 w-16 text-gray-400 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                    </svg>
                    <h3 class="text-lg font-medium text-gray-900 mb-2">No diff to display</h3>
                    <p class="text-gray-600">
                        Paste your git diff content or upload a diff file to get started.
                    </p>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-8">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center">
                <div class="flex justify-center items-center mb-4">
                    <svg class="h-8 w-8 text-white mr-2" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M8 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h3c.6 0 1-.4 1-1s-.4-1-1-1H5V5h3c.6 0 1-.4 1-1s-.4-1-1-1zm7.5 17l1.1-1.1L14.7 17H21v-2h-6.3l1.9-1.9L15.5 12l-3.5 3.5v1L15.5 20z"/>
                    </svg>
                    <span class="text-xl font-bold">DiffLens</span>
                </div>
                <div class="flex justify-center space-x-6 mb-6">
                    <a href="index.html" class="text-gray-400 hover:text-white transition-colors">Home</a>
                    <a href="about.html" class="text-gray-400 hover:text-white transition-colors">About</a>
                    <a href="contribute.html" class="text-gray-400 hover:text-white transition-colors">Contribute</a>
                    <a href="contact.html" class="text-gray-400 hover:text-white transition-colors">Contact</a>
                    <a href="https://github.com/nbslabs/difflense" target="_blank" rel="noopener noreferrer" 
                       class="text-gray-400 hover:text-white transition-colors">GitHub</a>
                </div>
                <div class="mt-6 pt-6 border-t border-gray-800">
                    <p class="text-gray-500 text-xs">
                        ¬© 2025 DiffLens. Open source project. Built with privacy in mind.
                    </p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Share Modal -->
    <div id="share-modal" class="fixed inset-0 bg-gray-600 bg-opacity-50 hidden flex items-center justify-center z-50">
        <div class="bg-white rounded-lg shadow-xl max-w-md w-full mx-4">
            <div class="flex justify-between items-center p-6 border-b border-gray-200">
                <h3 class="text-lg font-medium text-gray-900">Share Diff</h3>
                <button id="close-modal" class="text-gray-400 hover:text-gray-600">
                    <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            <div class="p-6">
                <div class="share-description-container">
                    <p class="text-sm text-gray-600 mb-4">
                        Share this diff with others using the link below. The diff content is compressed and encoded in the URL for privacy and efficiency.
                    </p>
                </div>
                <div class="mb-4 share-url-container">
                    <label class="block text-sm font-medium text-gray-700 mb-2">
                        Shareable URL
                    </label>
                    <div class="flex">
                        <input 
                            type="text" 
                            id="share-url" 
                            readonly 
                            class="flex-1 px-3 py-2 border border-gray-300 rounded-l-md bg-gray-50 text-sm font-mono"
                            placeholder="Generating link..."
                        >
                        <button 
                            id="copy-share-url" 
                            class="px-4 py-2 bg-primary text-white text-sm font-medium rounded-r-md hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2"
                        >
                            Copy
                        </button>
                    </div>
                </div>
                <div id="copy-success" class="hidden text-sm text-green-600 mb-4">
                    ‚úì URL copied to clipboard!
                </div>
                <div id="share-validation-error" class="hidden text-sm text-red-600 mb-4 p-3 bg-red-50 border border-red-200 rounded-md">
                    <!-- Validation error message will be inserted here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="assets/js/diff-parser.js"></script>
    <script src="assets/js/diff-viewer.js"></script>
    <script src="assets/js/github-integration.js"></script>
    <script>
        // Mobile menu toggle and initialization
        document.addEventListener('DOMContentLoaded', function() {
            const mobileMenuBtn = document.getElementById('mobile-menu-btn');
            const mobileMenu = document.getElementById('mobile-menu');
            
            if (mobileMenuBtn && mobileMenu) {
                mobileMenuBtn.addEventListener('click', function() {
                    mobileMenu.classList.toggle('hidden');
                });
            }
            
            // Tutorial toggle functionality
            const tutorialToggle = document.getElementById('tutorial-toggle');
            const tutorialContent = document.getElementById('tutorial-content');
            const tutorialChevron = document.getElementById('tutorial-chevron');
            
            if (tutorialToggle && tutorialContent && tutorialChevron) {
                // Add smooth transition for maxHeight
                tutorialContent.style.transition = 'max-height 0.8s ease-in-out';
                tutorialContent.style.overflow = 'hidden';
                
                tutorialToggle.addEventListener('click', function() {
                    const isHidden = tutorialContent.classList.contains('hidden');
                    
                    if (isHidden) {
                        tutorialContent.classList.remove('hidden');
                        tutorialContent.style.maxHeight = tutorialContent.scrollHeight + 'px';
                        tutorialChevron.style.transform = 'rotate(180deg)';
                        
                        // Store preference
                        localStorage.setItem('difflense-tutorial-open', 'true');
                    } else {
                        tutorialContent.style.maxHeight = '0px';
                        tutorialChevron.style.transform = 'rotate(0deg)';
                        
                        setTimeout(() => {
                            tutorialContent.classList.add('hidden');
                        }, 800);
                        
                        // Store preference
                        localStorage.setItem('difflense-tutorial-open', 'false');
                    }
                });
                
                // Check if user previously had tutorial open
                const tutorialOpen = localStorage.getItem('difflense-tutorial-open');
                if (tutorialOpen === 'true') {
                    tutorialContent.classList.remove('hidden');
                    tutorialContent.style.maxHeight = tutorialContent.scrollHeight + 'px';
                    tutorialChevron.style.transform = 'rotate(180deg)';
                }
            }
            
            // Initialize diff viewer
            if (window.DiffViewer) {
                window.DiffViewer.init().catch(error => {
                    console.error('Error initializing diff viewer:', error);
                });
            }
            
            // Initialize GitHub integration
            if (window.GitHubIntegration) {
                window.GitHubIntegration.init();
            }
        });
    </script>
</body>
</html>
